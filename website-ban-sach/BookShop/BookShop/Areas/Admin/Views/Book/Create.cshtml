@model Model.EF.Book
@{
    ViewBag.Title = "Create";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}
@section header{
    Thêm sách mới
}
@section jsFooter{
    <script src="~/Assets/Admin/js/plugins/ckfinder/ckfinder.js"></script>
    <script src="~/Assets/Admin/js/plugins/ckfinder/plugins/dummy/plugin.js"></script>
    <script src="~/Assets/Admin/js/plugins/ckfinder/plugins/imageresize/plugin.js"></script>
    <script src="~/Assets/Admin/js/plugins/ckfinder/plugins/fileeditor/plugin.js"></script>
    <script type="text/javascript">
        function Click_BrowseServer() {
            var finder = new CKFinder();
            //finder.basePath = '../';
            finder.selectActionFunction = SetFileField;
            finder.popup();
        }
        function SetFileField(fileUrl) {
            $('#inpImage').val(fileUrl);
        }
        $('#btnUpload').click(function () {
            Click_BrowseServer();
        });
    </script>

}


<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">

            <!-- /.panel-heading -->
            <div class="panel-body">
                @using (Html.BeginForm("Create", "Book", FormMethod.Post))
                {
                    @Html.ValidationSummary(true)
                    <div id="tab1" class="tabcontent">

                        <div class="form">

                            <div class="form_row">
                                <label>Tên Sách:</label>
                                <input type="text" class="form_input" name="Name" id="Name" value="" />
                                @*<div class="error">@ViewBag.msg_err</div>*@
                                <span>
                                    @Html.ValidationMessageFor(model => model.Name, "", new { @class = "error" })
                                </span>

                            </div>


                            <div class="form_row">
                                @Html.LabelFor(model => model.Images, new { @class = "control-label col-md-2" })
                                <a href="#" id="btnUpload" class="btn btn-primary">Load</a>
                                <input id="inpImage" type="text" name="Images" />
                                <span>@Html.ValidationMessageFor(model => model.Images, "", new { @class = "error" })</span>
                            </div>
                            <div class="form_row">
                                <label>Số lượng còn:</label>
                                <input type="number" min="0" class="form_input" name="SoLuongCon" id="SoLuongCon" value="" />
                                <span>@Html.ValidationMessageFor(model => model.Quantity, "", new { @class = "error" })</span>
                            </div>

                            <div class="form_row">
                                <label>Đơn giá:</label>
                                <input type="number" min="0" class="form_input" name="TinhTrangKM" id="TinhTrangKM" value="0" />
                                <span>@Html.ValidationMessageFor(model => model.Price, "", new { @class = "error" })</span>
                            </div>

                            <div class="form_row">
                                <label>Giá KM:</label>
                                <input type="text" class="form_input" name="DonGia" id="DonGia" value="" />
                                <span>@Html.ValidationMessageFor(model => model.PromotionPrice, "", new { @class = "error" })</span>
                            </div>


                            <div class="form_row">
                                <label>Tên danh mục:</label>

                                @Html.DropDownList("CategoryID", (SelectList)ViewBag.CategoryID, new { @class = "form_input", name = "CategoryID", id = "CategoryID" })

                            </div>

                            <div class="form_row">
                                <label>Tên tác giả:</label>

                                @Html.DropDownList("AuthorID", (SelectList)ViewBag.AuthorID, new { @class = "form_input", name = "AuthorID", id = "AuthorID" })

                            </div>

                            <div class="form_row">
                                <label>Tên NXB:</label>

                                @Html.DropDownList("ProcderID", (SelectList)ViewBag.ProcderID, new { @class = "form_input", name = "ProcderID", id = "ProcderID" })

                            </div>

                            <div class="form_row">
                                <label>Ngày lập:</label>
                                <input type="datetime" min="0" class="form_input" name="CreateDate" id="CreateDate" value="" />
                                <span>@Html.ValidationMessageFor(model => model.CreateDate, "", new { @class = "error" })</span>
                            </div>

                            <div class="form_row">
                                <label>Trạng thái:</label>
                                <input type="checkbox" class="form_input" name="status" id="status" value="" />
                                <span>@Html.ValidationMessageFor(model => model.status, "", new { @class = "error" })</span>
                            </div>

                            <div class="form_row">
                                <label>Mô tả:</label>
                                <textarea class="form_textarea" name="Mota" id="Mota"></textarea>
                                <span>@Html.ValidationMessageFor(model => model.Discriptions, "", new { @class = "error" })</span>
                            </div>


                            <div id="btn-submit">
                                <input type="submit" class="form_submit" value="Thêm" />
                            </div>

                            <div class="clear"></div>
                        </div>
                    </div>
                }

            </div>
        </div>
    </div>
</div>